module SecretCompartments

imports
	
	Terminals
	
context-free syntax

	Event = <<ID> <ID>>
	Command = <<ID> <ID>>
	Transition = <<TypeRef> =\> <TypeRef>>
	State = <state <ID> <Actions?> end>
	Actions = <actions { <{TypeRef " "}+> }>
	Statemachine = <
		events
			<{Event " "}+>
		end
		<ResetEvent?>
		commands
			<{Command " "}+>
		end
		<{State " "}+>
	>
	ResetEvent = <resetEvents <{TypeRef " "}+> end>
